!function(n){"use strict";var e=function(n){var e={min:0,max:100,step:1,timeout:600},t=function(n,e){for(var t in e)n[t]||(n[t]=e[t]);return n},a=function(n){var e=Number(n);return!isNaN(e)&&e==n},u=function(n){return Number(n)},i=function(n){if(!a(n))throw new Error("value ["+n+"] is not a valid number")},o=function(e){return e.touches&&e.touches.length>0?n.element(e.touches[0].target):n.element(e.target)},r=function(n){return o(n).attr("type")},c=function(n){for(var e in n){var t=n[e];n[e]=u(t)}},l=function(n,a){return{restrict:"E",scope:{value:"=",singular:"@",plural:"@",min:"@",max:"@",step:"@",change:"&"},link:function(u,l){var s=t({min:u.min,max:u.max,step:u.step},e);i(s.min),i(s.max),i(s.step),c(s),s.min>u.value&&(u.value=s.min),u.$watch("value",function(n,e){u.canDown=n>s.min,u.canUp=n<s.max,n!==e&&u.change()});var p,m,f,v,d,g=function(n){var e=r(n);if("up"===e){if(u.value>=s.max)return;u.value+=s.step,u.value>s.max&&(u.value=s.max)}else if("down"===e){if(u.value<=s.min)return;u.value-=s.step,u.value<s.min&&(u.value=s.min)}},b=l.find("span");b.on("click",function(n){g(n),u.$apply(),n.stopPropagation()}),b.on("touchstart",function(e){p||(p=!0,o(e).addClass("active"),v=(new Date).getTime(),m=n(function(){f=a(function(){g(e)},200)},s.timeout),e.preventDefault())}),b.on("touchend",function(e){d=(new Date).getTime(),f&&(a.cancel(f),f=void 0),m&&(n.cancel(m),m=void 0),d-v<s.timeout&&(g(e),u.$apply()),o(e).removeClass("active"),e.stopPropagation(),p=!1}),u.$on("$destroy",function(){b.off("touchstart touchend click")})},template:'<div class="input-group"><span class="input-group-addon" type="down" ng-disabled="!canDown">&nbsp;&nbsp;-&nbsp;&nbsp;</span><label class="form-control">{{ value }} {{value === 1 ? singular : plural}}</label><span class="input-group-addon" type="up" ng-disabled="!canUp">&nbsp;&nbsp;+&nbsp;&nbsp;</span></div>'}},s="angularNumberPicker";return n.module(s,[]).directive("hNumber",["$timeout","$interval",l]),s};"object"==typeof exports?module.exports=e(require("angular")):"function"==typeof define&&define.amd?define(["angular"],e):e(n.angular)}(window);